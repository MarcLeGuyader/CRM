<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>CRM</title>
  <link rel="stylesheet" href="styles/main.css">
</head>
<body>
  <!-- Header: replaces previous header (single green bar) -->
  <header class="app-header">
    <div class="header-left">
      <img src="assets/maello-logo.png" alt="Maello logo" class="logo" />
      <h1 class="app-title">CRM</h1>
      <button id="btn-filter" class="btn ghost">Filter</button>
      <button id="btn-new-opportunity" class="btn primary"><span class="plus">+</span> New opportunity</button>
    </div>
    <div class="header-right">
      <button id="btn-debug" class="btn ghost icon-bug" title="Debug">Debug</button>
      <button id="btn-reset" class="btn ghost">Reset</button>
      <button id="btn-upload" class="btn ghost">Upload Excel CRM data</button>
      <button id="btn-export" class="btn ghost">Export Excel CRM</button>
      <button id="btn-save" class="btn ghost">Save</button>
    </div>
  </header>

  <!-- Main app container (kept empty here so we don't break your existing layout).
       Your existing scripts will render into #app-root as before. -->
  <main id="app-root"></main>

  <!-- Your existing scripts (keep your current order); app.js kept for compatibility -->
  <script src="app.js"></script>
  <!-- Optional: hook buttons if your app doesn't already do it -->
  <script>
    (function(){
      const qs = s => document.querySelector(s);
      const noop = e => { /* wire to your real handlers in app.js */ };
      [['#btn-filter', 'onFilter'],
       ['#btn-new-opportunity', 'onNewOpportunity'],
       ['#btn-debug', 'onDebug'],
       ['#btn-reset', 'onReset'],
       ['#btn-upload', 'onUpload'],
       ['#btn-export', 'onExport'],
       ['#btn-save', 'onSave']].forEach(([sel, name]) => {
         const el = qs(sel);
         if (el && !el._wired) {
           el.addEventListener('click', (e)=>{
             if (window.CRM && typeof window.CRM[name] === 'function') { window.CRM[name](e); }
           });
           el._wired = true;
         }
       });
    })();
  </script>
</body>
</html>
