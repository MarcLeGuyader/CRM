
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Tests — Opportunities Table</title>
  <link rel="stylesheet" href="./styles.css"/>
  <link rel="stylesheet" href="../../modules/opportunity-table/opportunity-table.css"/>
</head>
<body>
  <div class="wrap">
    <h1>Tests — Opportunities Table</h1>
    <div id="results" class="results"></div>
    <div id="mount"></div>
  </div>

  <script>
    // Minimal bus for tests
    const bus = (function(){
      const map = new Map();
      const events = [];
      function on(topic, handler){
        if(!map.has(topic)) map.set(topic, new Set());
        const set = map.get(topic); set.add(handler);
        return () => set.delete(handler);
      }
      function emit(topic, payload){ events.push({topic, payload}); const set = map.get(topic); if(set) set.forEach(h=>h(payload)); }
      function take(){ return events.splice(0, events.length); }
      return { on, emit, take };
    })();
    window.bus = bus;
  </script>
  <script src="../../modules/opportunity-table/opportunity-table.js"></script>
  <script src="./test-opportunity-table.js"></script>
</body>
</html>
