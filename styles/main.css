body {
  margin: 0;
  font-family: system-ui, sans-serif;
  background: #f7f9f8;
  color: #0b1320;
}

/* Bandeau principal */
header {
  background-color: rgb(75, 134, 128);
  color: white;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 10px 20px;
  height: 60px;
}

/* Console debug — placée juste sous le bandeau */
#debug {
  background: #eef2f2;
  border-bottom: 1px solid #c9d3d0;
  padding: 8px 16px;
  font-size: 12px;
  color: #333;
  font-family: monospace;
  white-space: pre-wrap;
  overflow-y: auto;
  max-height: 160px;
}

/* Filtres — sous la console debug */
section#filters {
  background: #e5ecea;
  padding: 10px;
  border-bottom: 1px solid #c9d3d0;
}

/* Contenu principal (opportunités) */
main#opps {           /* <-- corrigé: #opps (et plus #opportunities) */
  padding: 20px;
}


/* ====== Dialogs (modules/dialogs) ====== */
.crm-dialogs-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.35);
  display: none;                /* <-- caché par défaut pour ne pas bloquer les clics */
  align-items: center;
  justify-content: center;
  z-index: 999; /* au-dessus du bandeau/filters/table */
}
.crm-dialogs-backdrop.open{
  display: flex;                /* <-- visible seulement quand un dialog est ouvert */
}

.crm-dialog{
  background: #fff;
  border: 1px solid #c9d3d0;
  border-radius: 10px;
  padding: 18px 18px 12px;
  max-width: 780px;
  width: min(94vw, 780px);
  max-height: 86vh;             /* confort */
  overflow: auto;               /* scroll interne si contenu long */
  box-shadow: 0 10px 30px rgba(0,0,0,.2);
}

.crm-dialog header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: 10px;
  margin-bottom: 12px;
}
.crm-dialog header h3{
  margin:0;
  font-size: 18px;
  font-weight: 600;
}

.crm-dialog .grid2{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px 14px;
  margin-bottom: 10px;
}
.crm-dialog label{
  display:flex;
  flex-direction:column;
  gap:6px;
  font-size: 12px;
  color:#415057;
}
.crm-dialog input,
.crm-dialog select,
.crm-dialog textarea{
  font: inherit;
  padding: 8px 10px;
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  background:#fff;
  color:#0b1320;
}
.crm-dialog textarea{ min-height: 84px; resize: vertical; }

/* key-value mini table */
.kv{ display:grid; grid-template-columns: 150px 1fr; gap: 6px 10px; margin: 6px 0; }
.kv-k{ font-weight:600; color:#334247; }
.kv-v{ color:#0b1320; }

.crm-link{ color:#1e6091; text-decoration:underline; text-underline-offset:2px; cursor:pointer; }

.badge-client{ background:#4B8680; color:#fff; border-radius: 999px; padding:2px 8px; font-size:12px; }
.badge-nonclient{ background:#b0b8bb; color:#fff; border-radius: 999px; padding:2px 8px; font-size:12px; }

.crm-errors{
  margin: 8px 0 0;
  padding: 8px;
  background:#fbeaea;
  color:#8a1f1f;
  border: 1px solid #f2c8c8;
  border-radius:8px;
  white-space: pre-wrap;
  font-size: 12px;
}

/* actions */
.crm-dialog menu{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin: 12px 0 0;
  padding:0;
}
.crm-btn{
  padding:8px 12px;
  border:1px solid #cbd5e1;
  border-radius:8px;
  background:#fff;
  color:#0b1320;
  cursor:pointer;
}
.crm-btn.primary{
  background:#1e6091;
  border-color:#1e6091;
  color:#fff;
}
.crm-btn:disabled{ opacity:.6; cursor:not-allowed; }
